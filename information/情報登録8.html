<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>確認画面</title>
    <link rel="stylesheet" href="情報登録3.css">
</head>
<body>
    <header class="header">
        確認画面
    </header>

    <table id="shelfTable">
        <thead>
            <tr>
                <th>棚番号</th>
                <th>商品名</th>
            </tr>
        </thead>
        <tbody>
            <!-- JavaScriptでテーブル行を追加 -->
        </tbody>
    </table>

    <br>

    <form id="registerForm" method="post" action="information8.php">
        <input type="hidden" name="syo" id="syoInput">
        <input type="hidden" name="id" id="idInput">
        <input type="submit" value="登録">
    </form>

    <script>
        // URLからクエリパラメータを取得する関数
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // テーブルに棚データを表示する関数
        function populateTable(id, name) {
            const tableBody = document.getElementById('shelfTable').getElementsByTagName('tbody')[0];
            const row = document.createElement('tr');
            const cellId = document.createElement('td');
            const cellName = document.createElement('td');

            cellId.textContent = id;
            cellName.textContent = name;

            row.appendChild(cellId);
            row.appendChild(cellName);
            tableBody.appendChild(row);
        }

        // ページが読み込まれたらクエリパラメータをテーブルに表示し、フォームに値を設定
        window.onload = function() {
            const id = getQueryParam('id');
            const name = getQueryParam('syod');

            // 棚のIDと商品名をテーブルに表示
            populateTable(id, name);

            // フォームの隠し入力フィールドに値を設定
            document.getElementById('idInput').value = id;
            document.getElementById('syoInput').value = name;
        };
    </script>

    <!-- 戻るボタン -->
    <button class="back-button" onclick="history.back()">戻る</button>
</body>
</html>
